<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Create Scavenger Hunt</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  font-family:system-ui,sans-serif;
  background:linear-gradient(180deg,#eef2f7,#f4f6f8);
  padding:20px;
}
.card{
  max-width:900px;
  margin:auto;
  background:#fff;
  padding:24px;
  border-radius:14px;
}
h1,h2{margin-top:0}
select,textarea,input{
  width:100%;
  padding:12px;
  font-size:16px;
  margin-top:8px;
}
textarea{min-height:80px}
button{
  padding:10px 14px;
  font-size:15px;
  border:none;
  border-radius:8px;
  cursor:pointer;
}
.primary{background:#2ecc71;color:white}
.secondary{background:#3498db;color:white}
.ghost{background:#e5e7eb}

.clue-card{
  background:#f8fafc;
  border-radius:12px;
  padding:16px;
  margin-bottom:16px;
  transition:transform .2s ease,opacity .2s ease;
}
.clue-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.clue-number{
  font-weight:700;
}
.controls button{margin-left:6px}

.mode-select{margin-top:10px}
.ai-box{
  background:#eef6ff;
  padding:12px;
  border-radius:10px;
  margin-top:10px;
}
.ai-suggestion{
  background:white;
  padding:10px;
  border-radius:8px;
  margin-bottom:8px;
}
.ai-suggestion button{margin-right:6px}
.hidden{display:none}
</style>
</head>

<body>

<div class="card">
<h1>Create a New Hunt</h1>

<label><strong>Theme</strong></label>
<select id="theme">
  <option>Escape Adventure</option>
  <option>Fortnite IRL</option>
  <option>Hacker / System Breach</option>
  <option>Fantasy Quest</option>
  <option>Pirate</option>
  <option>Detective</option>
  <option>Custom</option>
</select>

<hr>

<div id="clues"></div>

<button class="secondary" onclick="addClue()">➕ Add Clue</button>
</div>

<script>
let clueCount = 0;

const BASE_HUNTS = [
  {name:"Escape the House", clues:["Mirror","Bookshelf","Fridge"]},
  {name:"Fortnite IRL", clues:["Gaming Desk","Fridge","Garage"]},
  {name:"System Breach", clues:["Router","Keyboard","Desk"]}
];

function addClue(){
  clueCount++;
  const div=document.createElement("div");
  div.className="clue-card";
  div.innerHTML=`
    <div class="clue-header">
      <div class="clue-number">Clue ${clueCount}</div>
      <div class="controls">
        <button class="ghost" onclick="moveUp(this)">⬆</button>
        <button class="ghost" onclick="moveDown(this)">⬇</button>
      </div>
    </div>

    <div class="mode-select">
      <label><strong>Clue Source</strong></label>
      <select onchange="switchMode(this)">
        <option value="existing">Use existing clue</option>
        <option value="write">Write my own</option>
        <option value="ai">Get AI help ✨</option>
      </select>
    </div>

    <div class="mode existing">
      <select onchange="populateClues(this)">
        <option>Select hunt</option>
        ${BASE_HUNTS.map(h=>`<option>${h.name}</option>`).join("")}
      </select>
      <select class="clue-list">
        <option>Select clue</option>
      </select>
    </div>

    <div class="mode write hidden">
      <textarea placeholder="Write your clue here..."></textarea>
    </div>

    <div class="mode ai hidden">
      <input placeholder="Location (e.g. Fridge)">
      <button class="secondary" onclick="mockAI(this)">✨ Get Suggestions</button>
      <div class="ai-box hidden"></div>
    </div>
  `;
  document.getElementById("clues").appendChild(div);
  renumber();
}

function switchMode(sel){
  const card=sel.closest(".clue-card");
  card.querySelectorAll(".mode").forEach(m=>m.classList.add("hidden"));
  card.querySelector(".mode."+sel.value).classList.remove("hidden");
}

function populateClues(sel){
  const hunt=BASE_HUNTS.find(h=>h.name===sel.value);
  const list=sel.parentElement.querySelector(".clue-list");
  list.innerHTML="<option>Select clue</option>";
  if(hunt){
    hunt.clues.forEach(c=>{
      const o=document.createElement("option");
      o.textContent=c;
      list.appendChild(o);
    });
  }
}

function mockAI(btn){
  const box=btn.nextElementSibling;
  box.classList.remove("hidden");
  box.innerHTML="";
  const theme=document.getElementById("theme").value;
  ["First","Second","Third"].forEach(t=>{
    const d=document.createElement("div");
    d.className="ai-suggestion";
    d.innerHTML=`
      <div><strong>${theme}:</strong> ${t} themed clue suggestion</div>
      <button class="primary" onclick="acceptAI(this)">Accept</button>
      <button class="ghost" onclick="editAI(this)">Edit</button>
      <button class="ghost" onclick="this.parentElement.remove()">Discard</button>
    `;
    box.appendChild(d);
  });
}

function acceptAI(btn){
  const text=btn.parentElement.querySelector("div").textContent;
  const card=btn.closest(".clue-card");
  card.querySelector(".mode.ai").innerHTML=
    `<textarea>${text}</textarea>`;
}

function editAI(btn){
  const text=btn.parentElement.querySelector("div").textContent;
  const card=btn.closest(".clue-card");
  card.querySelector(".mode.ai").innerHTML=
    `<textarea>${text}</textarea>`;
}

function moveUp(btn){
  const card=btn.closest(".clue-card");
  if(card.previousElementSibling){
    card.parentElement.insertBefore(card,card.previousElementSibling);
    renumber();
  }
}
function moveDown(btn){
  const card=btn.closest(".clue-card");
  if(card.nextElementSibling){
    card.parentElement.insertBefore(card.nextElementSibling,card);
    renumber();
  }
}

function renumber(){
  document.querySelectorAll(".clue-card").forEach((c,i)=>{
    c.querySelector(".clue-number").textContent="Clue "+(i+1);
  });
}
</script>

</body>
</html>
